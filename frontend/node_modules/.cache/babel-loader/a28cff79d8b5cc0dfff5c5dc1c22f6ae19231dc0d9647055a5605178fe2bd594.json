{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ReactStars from \"react-rating-stars-component\";\nimport { auth } from \"./firebase\";\nimport { signInWithEmailAndPassword, onAuthStateChanged, signOut } from \"firebase/auth\";\nfunction App() {\n  _s();\n  const [form, setForm] = useState({\n    name: \"\",\n    subject: \"\",\n    rating: \"\",\n    comments: \"\"\n  });\n  const [feedbackList, setFeedbackList] = useState([]);\n  const [editId, setEditId] = useState(null);\n  const [user, setUser] = useState(null);\n  // login state\n  const [loginForm, setLoginForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [loginError, setLoginError] = useState(null);\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const submitFeedback = async e => {\n    e.preventDefault();\n    if (editId) {\n      await axios.put(`http://localhost:5000/update-feedback/${editId}`, form);\n      setEditId(null);\n    } else {\n      await axios.post(\"http://localhost:5000/submit-feedback\", form);\n    }\n    alert(\"Feedback submitted\");\n    setForm({\n      name: \"\",\n      subject: \"\",\n      rating: \"\",\n      comments: \"\"\n    });\n    getFeedback();\n  };\n  const getFeedback = async () => {\n    const res = await axios.get(\"http://localhost:5000/get-feedback\");\n    setFeedbackList(res.data);\n  };\n  useEffect(() => {\n    getFeedback();\n  }, []);\n\n  //for monitor Auth status\n  useEffect(() => {\n    onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n    });\n  }, []);\n  const deleteFeedback = async id => {\n    if (window.confirm(\"Are you sure you want to delete this feedback?\")) {\n      await axios.delete(`http://localhost:5000/delete-feedback/${id}`);\n      getFeedback(); // refresh the list\n    }\n  };\n  const editFeedback = fb => {\n    setForm({\n      name: fb.name,\n      subject: fb.subject,\n      rating: fb.rating,\n      comments: fb.comments\n    });\n    setEditId(fb.id);\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      await signInWithEmailAndPassword(auth, loginForm.email, loginForm.password);\n      setLoginForm({\n        email: \"\",\n        password: \"\"\n      });\n    } catch (err) {\n      alert(\"Login failed: \" + err.message);\n    }\n  };\n  const handleLogout = () => {\n    signOut(auth);\n  };\n  ;\n}\n_s(App, \"ewkogUt9BPbVtChfHh4cNr33x1A=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","ReactStars","auth","signInWithEmailAndPassword","onAuthStateChanged","signOut","App","_s","form","setForm","name","subject","rating","comments","feedbackList","setFeedbackList","editId","setEditId","user","setUser","loginForm","setLoginForm","email","password","loginError","setLoginError","handleChange","e","target","value","submitFeedback","preventDefault","put","post","alert","getFeedback","res","get","data","currentUser","deleteFeedback","id","window","confirm","delete","editFeedback","fb","handleLogin","err","message","handleLogout","_c","$RefreshReg$"],"sources":["C:/Users/shiva/OneDrive/Desktop/student-feedback-system/frontend/src/App.js"],"sourcesContent":["\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ReactStars from \"react-rating-stars-component\";\nimport { auth } from \"./firebase\";\nimport { signInWithEmailAndPassword, onAuthStateChanged, signOut } from \"firebase/auth\";\n\n\n\nfunction App() {\n  const [form, setForm] = useState({ name: \"\", subject: \"\", rating: \"\", comments: \"\" });\n  const [feedbackList, setFeedbackList] = useState([]);\n  const [editId, setEditId] = useState(null);\n  const [user, setUser] = useState(null);\n  // login state\n  const [loginForm, setLoginForm] = useState({ email: \"\", password: \"\" });\n  const [loginError, setLoginError] = useState(null);\n\n\n\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const submitFeedback = async (e) => {\n  e.preventDefault();\n  if (editId) {\n    await axios.put(`http://localhost:5000/update-feedback/${editId}`, form);\n    setEditId(null);\n  } else {\n    await axios.post(\"http://localhost:5000/submit-feedback\", form);\n  }\n  alert(\"Feedback submitted\");\n  setForm({ name: \"\", subject: \"\", rating: \"\", comments: \"\" });\n  getFeedback();\n};\n\n\n  const getFeedback = async () => {\n    const res = await axios.get(\"http://localhost:5000/get-feedback\");\n    setFeedbackList(res.data);\n  };\n\n  useEffect(() => {\n    getFeedback();\n  }, []);\n\n  //for monitor Auth status\n  useEffect(() => {\n  onAuthStateChanged(auth, (currentUser) => {\n    setUser(currentUser);\n  });\n}, []);\n\n\n  const deleteFeedback = async (id) => {\n  if (window.confirm(\"Are you sure you want to delete this feedback?\")) {\n    await axios.delete(`http://localhost:5000/delete-feedback/${id}`);\n    getFeedback(); // refresh the list\n  }\n};\n\n\nconst editFeedback = (fb) => {\n  setForm({\n    name: fb.name,\n    subject: fb.subject,\n    rating: fb.rating,\n    comments: fb.comments,\n  });\n  setEditId(fb.id);\n};\n\nconst handleLogin = async (e) => {\n  e.preventDefault();\n  try {\n    await signInWithEmailAndPassword(auth, loginForm.email, loginForm.password);\n    setLoginForm({ email: \"\", password: \"\" });\n  } catch (err) {\n    alert(\"Login failed: \" + err.message);\n  }\n};\n\nconst handleLogout = () => {\n  signOut(auth);\n};\n\n\n\n\n ;\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}